<ion-header>

    <ion-navbar>
        <ion-title style="z-index:-1">Ajustes</ion-title>
        <ion-buttons end *ngIf="!visitante">

            <button ion-button icon-only>
                <ion-icon name="camera"></ion-icon>
            </button>

        </ion-buttons>
    </ion-navbar>

</ion-header>
<ion-content>

    <ion-toolbar style="position: relative;margin:0px;padding:0px" *ngIf="!visitante" (click)="getPicture()">
        <img *ngIf="foto!=''" src="{{'data:image/png;base64,'+foto}}" />

        <img *ngIf="foto==''" src="assets/img/tapiz2.jpg" />
    </ion-toolbar>
    <ion-toolbar style="position: relative;margin:0px;padding:0px" *ngIf="visitante" (click)="getPicture()">

        <img *ngIf="foto!=''" src="{{'data:image/png;base64,'+foto}}" />
        <img *ngIf="foto==''" src="assets/img/mascota.png" />
    </ion-toolbar>
    <ion-list>
        <ion-item no-lines>
            <ion-grid>
                <ion-row color="secondary-pets-l">
                    <ion-col>
                        <p>nombre</p>
                        <div style="text-align:center">
                            <h2>{{nombre}}</h2>
                        </div>
                    </ion-col>
                    <ion-col>
                        <p>Apellido</p>
                        <div style="text-align:center">
                            <h2>{{apellido}}</h2>
                        </div>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col>
                        <p>Correo</p>
                        <div style="text-align:center">
                            <h2>{{email}}</h2>
                        </div>
                    </ion-col>
                </ion-row>

            </ion-grid>
        </ion-item>
    </ion-list>
    <form #form="ngForm" (ngSubmit)="registro(form.value)" novalidate>
        <ion-list>

           <ion-item class="itemi">
                <ion-label color="pesto-scondary-text" floating>old password</ion-label>
                <ion-input type="password" name='passwordold' ngModel required #passwordold="ngModel" [class.invalid]="passwordold.errors && passwordold.dirty"
                    minlength="6" ></ion-input>
            </ion-item>
            <ion-item class="error-message itemi" no-lines *ngIf="passwordold.errors?.required && passwordold.dirty">
                    <p style="color:red">password old required</p>
                </ion-item>

            <ion-item class="itemi">
                <ion-label color="pesto-scondary-text" floating>password</ion-label>
                <ion-input type="password" name='password' ngModel required #password="ngModel" [class.invalid]="password.errors && password.dirty"
                    minlength="6" ></ion-input>
            </ion-item>
            

            <ion-item class="itemi">
                <ion-label color="pesto-scondary-text" floating>password confirmation </ion-label>
                <ion-input type="password" name='password_confirmation' ngModel required #password_confirmation="ngModel" [class.invalid]="password_confirmation.errors && password_confirmation.dirty"
                    minlength="6" ></ion-input>
            </ion-item>
            <ion-item class="error-message itemi" no-lines *ngIf="password.errors?.required && password.dirty">
                <p style="color:red">password required</p>
            </ion-item>
            <ion-item class="error-message itemi" no-lines *ngIf="password.errors?.minlength && password.dirty">
                <p style="color:red">the password is short, min 6 characters </p>
            </ion-item>
           
            <br>


            <div style="text-align:center">
                <button ion-button  outline color="secondary-pets-l"  type="submit" [disabled]="!form.valid">Cambiar pass !!!</button>
            </div>

            <div style="text-align:center">
                <button ion-button  outline color="secondary-pets-l"  type="button" (click)="cancelar()">Regresar</button>
            </div>
        </ion-list>
    </form>
</ion-content>